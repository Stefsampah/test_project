<div class="bg-white bg-opacity-10 rounded-2xl shadow p-4 flex flex-col gap-2">
  <div class="flex items-center gap-2 mb-2">
    <% if icon %>
      <span class="text-2xl"><%= icon %></span>
    <% end %>
    <h3 class="text-lg font-bold text-white"><%= title %></h3>
  </div>
  <% (data || []).first(5).each_with_index do |entry, idx| %>
    <div class="flex items-center justify-between bg-black bg-opacity-10 rounded-lg px-3 py-2">
      <div class="flex items-center gap-2">
        <span class="inline-block w-7 h-7 rounded-full bg-gradient-to-br from-yellow-400 to-orange-400 text-black font-bold flex items-center justify-center mr-2"><%= "# {idx+1}" %></span>
        <% if entry[:user]&.avatar&.attached? %>
          <%= image_tag entry[:user].avatar, class: "h-8 w-8 rounded-full" %>
        <% else %>
          <div class="h-8 w-8 rounded-full bg-gray-700 flex items-center justify-center">
            <span class="text-white text-xs"><%= entry[:user]&.email&.first&.upcase || '?' %></span>
          </div>
        <% end %>
        <span class="text-white text-sm truncate max-w-[120px]"> <%= entry[:user]&.email || 'Utilisateur inconnu' %></span>
      </div>
      <span class="text-lg font-bold text-yellow-200"><%= entry[:value] %><%= unit %></span>
    </div>
  <% end %>
</div> 